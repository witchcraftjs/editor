import{i as Q}from"./BhoX2VZY.js";import{p as R}from"./B834ZAMc.js";import{A as X,c as F,o as w,a as E,a6 as T,ax as _,a7 as O,p as f,v as B,B as ee,Y as ae,H as r,R as o,S as p,E as q,D as m,q as t,C as D,w as I,d as le,t as te,b as x,Z as N,J as se}from"./ChiTXbtN.js";import{u as ie}from"./CxzPWhlJ.js";import{u as ue,_ as ne}from"./BHGX9yqN.js";import{a as b}from"./9cslYIr4.js";import re from"./66w8nu5J.js";import oe from"./DND-hVZe.js";import de from"./BGODKipo.js";import pe from"./BnYT1Eep.js";import{g as ve}from"./CRo8hmbH.js";import"./B9Vz3BzZ.js";import"./B39yYSFt.js";import"./DOfhXivz.js";import"./CQ5ND8ze.js";import"./D2-izZPo.js";import"./XcYfSkWd.js";import"./B6qcY32u.js";import"./CD0Jx8XC.js";import"./Du8JU2h8.js";import"./DB0SWIft.js";const ge={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function ce(l,h){return w(),F("svg",ge,[...h[0]||(h[0]=[E("path",{fill:"currentColor",d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3L86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"},null,-1)])])}const fe=X({name:"fa6-solid-chevron-up",render:ce}),me=["data-border","data-invalid","data-disabled","data-read-only","data-is-open"],be=["data-is-open"],Re=Object.assign({name:"LibSimpleInputDeprecated",inheritAttrs:!1},{__name:"WInputDeprecated",props:T({suggestions:{type:Array,required:!1,default:void 0},suggestionLabel:{type:Function,required:!1},restrictToSuggestions:{type:Boolean,required:!1},updateOnlyOnSubmit:{type:Boolean,required:!1,default:!1},suggestionsFilter:{type:Function,required:!1},allowOpenEmpty:{type:Boolean,required:!1},canOpen:{type:Boolean,required:!1},canClose:{type:Boolean,required:!1},isValid:{type:Boolean,required:!1},suggestionSelector:{type:Function,required:!1},showSelectedValues:{type:Boolean,required:!1},id:{type:String,required:!1},label:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},border:{type:Boolean,required:!1,default:!0},unstyle:{type:Boolean,required:!1,default:!1},valid:{type:Boolean,required:!1,default:!0}},{values:{type:null,default:void 0},valuesModifiers:{},modelValue:{type:String,required:!0},modelModifiers:{},inputValue:{type:String,default:""},inputValueModifiers:{}}),emits:T(["input","submit","keydown","blur","focus","indicatorClick"],["update:values","update:modelValue","update:inputValue"]),setup(l,{expose:h,emit:z}){const y=_(),v=z,P=ve(),a=l,i=ie(["wrapper","inner-wrapper","suggestions","multivalues"]),s=O(l,"values",{type:null,default:void 0}),u=O(l,"modelValue",{type:String,required:!0}),S=f(()=>a.id??P),n=O(l,"inputValue",{type:String,default:""});n.value=u.value??"";const j=f(()=>!a.disabled&&!a.readonly),c=B(null),$=B(0);ee(u,()=>{n.value=u.value});const H=B(null),d=B(!1),C=e=>{se(()=>{a.suggestions&&c.value?.suggestions.toggle()}),v("indicatorClick",e)},K=e=>{a.suggestions&&(e.key==="Enter"&&$.value===-1&&s.value?(R(s.value,[n.value]),n.value="",u.value=""):(c.value?.inputKeydownHandler?.(e),s.value&&(u.value=""))),v("keydown",e)},W=e=>{a.suggestions&&c.value?.inputBlurHandler?.(e),v("blur",e)},J=e=>{a.suggestions&&c.value?.inputFocusHandler?.(e),v("focus",e)};function Y(e){s.value!==void 0&&(Q(e)||(R(s.value,[e]),n.value="",u.value=""))}const V=ae(a,"suggestions"),Z=ue(S,d,$,V),M=f(()=>({id:S.value,border:!1,disabled:a.disabled,readonly:a.readonly,isValid:a.valid,onKeydown:K,onBlur:W,onFocus:J,modelValue:n.value,"onUpdate:modelValue":e=>{n.value=e,!a.suggestions&&!a.updateOnlyOnSubmit&&!a.restrictToSuggestions&&(u.value=e)},onSubmit:e=>{a.suggestions||(u.value=s.value?"":e,v("submit",e),s.value&&Y(e))},...Z.value,canEdit:j.value,...i.value.attrs,class:void 0}));function G(e,k){v("submit",e)}const g=f(()=>({id:S.value,isOpen:d.value,valid:a.valid,disabled:a.disabled,readonly:a.readonly,emitSubmit:G})),U=f(()=>({id:S.value,suggestions:a.suggestions,allowOpenEmpty:a.allowOpenEmpty,restrictToSuggestions:a.restrictToSuggestions,suggestionLabel:a.suggestionLabel,suggestionsFilter:a.suggestionsFilter,modelValue:s.value??u.value.toString(),inputValue:n.value,isValid:a.isValid,"onUpdate:inputValue":e=>n.value=e,onSubmit:(e,k,A)=>{u.value=A?"":e,v("submit",e,k)},"onUpdate:modelValue":e=>{s.value&&=e},"onUpdate:isOpen":e=>{d.value=e},"onUpdate:activeSuggestion":e=>$.value=e,...i.value.suggestionsAttrs,class:void 0})),L=f(()=>({hasSlotRight:!y.right,label:a.label,border:a.border,disabled:a.disabled,readonly:a.readonly,modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,...i.value.multivaluesAttrs,class:void 0}));return h({suggestionsComponent:c,el:H}),(e,k)=>(w(),F("div",m({class:t(b)(`input--outer-wrapper
			grow
			flex
			flex-wrap
			`,l.disabled&&`
			text-neutral-400
			dark:text-neutral-600
		`,t(i).wrapperAttrs?.class),tabindex:"-1"},{...t(i).wrapperAttrs,class:void 0},{ref_key:"inputWrapperEl",ref:H}),[r(e.$slots,"label",o(p({...g.value,label:l.label})),()=>[l.label||t(y).default?(w(),D(oe,{key:0,id:l.id??t(P),disabled:l.disabled,readonly:l.readonly,valid:l.valid,class:"input--label"},{default:I(()=>[r(e.$slots,"default",o(p(g.value)),()=>[le(te(l.label),1)])]),_:3},8,["id","disabled","readonly","valid"])):q("",!0),k[0]||(k[0]=E("div",{class:"input--label-spacer flex-1"},null,-1))]),E("div",m({"data-border":l.border,"data-invalid":!l.valid,"data-disabled":l.disabled,"data-read-only":l.readonly,"data-is-open":d.value},{...t(i)["inner-wrapperAttrs"],class:void 0},{class:t(b)(`input--inner-wrapper
				relative
				flex
				flex-1
				basis-[100%]
				flex-wrap
				rounded-sm
				gap-2
				px-2
			`,l.border&&`
				bg-inherit
				border
				border-neutral-500
				outlined-within:border-accent-500
				has-[input:invalid]:border-danger-700
				has-[input:invalid]:dark:border-danger-600
			`,l.border&&!l.valid&&`
				border-danger-700
				dark:border-danger-600
			`,d.value&&"rounded-b-none",!l.valid&&`
				outlined:!outline-danger-700
				text-danger-800
				dark:text-danger-400
			`,`
				has-[input:invalid]:outline-danger-700
				has-[input:invalid]:text-danger-800
				has-[input:invalid]:dark:text-danger-400
			`,l.readonly&&`
				bg-neutral-50
				text-neutral-800
				dark:bg-neutral-950
				dark:text-neutral-200
				`,l.disabled&&`
				bg-neutral-50
				text-neutral-400
				dark:border-neutral-600
				border-neutral-400
			`,t(i)["inner-wrapperAttrs"]?.class)}),[r(e.$slots,"left",o(p(g.value))),r(e.$slots,"input",o(p({...M.value,...g.value,suggestionsIndicatorClickHandler:C})),()=>[x(pe,m({class:t(b)("input--input p-0",!t(y).left&&"-ml-2 pl-2",!t(y).right&&(!s.value||s.value.length===0)&&!V.value&&"-mr-2 -pr-2",t(i).attrs?.class)},M.value),null,16,["class"])]),r(e.$slots,"indicator",o(p({isOpen:d.value,suggestionsIndicatorClickHandler:C})),()=>[V.value?(w(),F("div",{key:0,"data-is-open":d.value,class:N(t(b)("input--indicator flex flex-col justify-center")),onClick:C},[x(re,{class:N(d.value&&"rotate-180")},{default:I(()=>[x(t(fe))]),_:1},8,["class"])],10,be)):q("",!0)]),r(e.$slots,"values",o(p({...L.value,...g.value})),()=>[s.value&&s.value.length>0?(w(),D(de,m({key:0,class:t(b)(`
							input--multivalues
							grow-[9000]
							justify-space-between
							py-1
						`,!t(y).right&&"-mr-1",t(i).multivaluesAttrs?.class)},L.value),null,16,["class"])):q("",!0)]),r(e.$slots,"right",o(p(g.value))),V.value?r(e.$slots,"suggestions",o(m({key:0},{...U.value,...g.value})),()=>[x(ne,m({class:t(b)(`
						input--suggestions
						absolute
						-inset-x-px
						z-10
						rounded-b-sm
						border-accent-500
						border
						top-full
					`,!l.border&&`
						rounded-sm
					`,t(i).suggestionsAttrs?.class),ref_key:"suggestionsComponent",ref:c},U.value),{item:I(A=>[r(e.$slots,"suggestion-item",o(p(A)))]),_:3},16,["class"])]):q("",!0)],16,me)],16))}});export{Re as default};
