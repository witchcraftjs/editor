import{aC as X,v as F,x as w,y as E,H as U,aD as Z,J as O,j as f,r as B,Y as _,aG as ee,R as r,S as o,T as c,O as q,P as m,N as t,Q as b,aH as N,aI as ae,ab as le,L as R,B as I,C as te,z as se,A as $,V as z,a0 as ie}from"./Cql2C_go.js";import{u as ue}from"./Cv7Eaxfl.js";import{u as ne,_ as re}from"./CkZienkL.js";import oe from"./CcLxEb5C.js";import de from"./CeSMcxm9.js";import ce from"./BmjZH5lH.js";import{g as ve}from"./DMGTKRWK.js";import"./CQ5ND8ze.js";import"./CsOM0Gk0.js";import"./Bg1igTOG.js";import"./CD0Jx8XC.js";import"./sdUFAksv.js";import"./2QWzZFR8.js";const ge={style:{"vertical-align":"-0.125em",height:"1em",display:"inline-block",width:"auto"},viewBox:"0 0 512 512"};function pe(l,S){return w(),F("svg",ge,[...S[0]||(S[0]=[E("path",{fill:"currentColor",d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3L86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"},null,-1)])])}const fe=X({name:"fa6-solid-chevron-up",render:pe}),me=["data-border","data-invalid","data-disabled","data-read-only","data-is-open"],be=["data-is-open"],Ie=Object.assign({name:"LibSimpleInputDeprecated",inheritAttrs:!1},{__name:"WInputDeprecated",props:U({suggestions:{type:Array,required:!1,default:void 0},suggestionLabel:{type:Function,required:!1},restrictToSuggestions:{type:Boolean,required:!1},updateOnlyOnSubmit:{type:Boolean,required:!1,default:!1},suggestionsFilter:{type:Function,required:!1},allowOpenEmpty:{type:Boolean,required:!1},canOpen:{type:Boolean,required:!1},canClose:{type:Boolean,required:!1},isValid:{type:Boolean,required:!1},suggestionSelector:{type:Function,required:!1},showSelectedValues:{type:Boolean,required:!1},id:{type:String,required:!1},label:{type:String,required:!1},disabled:{type:Boolean,required:!1,default:!1},readonly:{type:Boolean,required:!1,default:!1},border:{type:Boolean,required:!1,default:!0},unstyle:{type:Boolean,required:!1,default:!1},valid:{type:Boolean,required:!1,default:!0}},{values:{type:null,default:void 0},valuesModifiers:{},modelValue:{type:String,required:!0},modelModifiers:{},inputValue:{type:String,default:""},inputValueModifiers:{}}),emits:U(["input","submit","keydown","blur","focus","indicatorClick"],["update:values","update:modelValue","update:inputValue"]),setup(l,{expose:S,emit:D}){const y=Z(),v=D,P=ve(),a=l,i=ue(["wrapper","inner-wrapper","suggestions","multivalues"]),s=O(l,"values",{type:null,default:void 0}),u=O(l,"modelValue",{type:String,required:!0}),V=f(()=>a.id??P),n=O(l,"inputValue",{type:String,default:""});n.value=u.value??"";const j=f(()=>!a.disabled&&!a.readonly),p=B(null),x=B(0);_(u,()=>{n.value=u.value});const H=B(null),d=B(!1),C=e=>{le(()=>{a.suggestions&&p.value?.suggestions.toggle()}),v("indicatorClick",e)},K=e=>{a.suggestions&&(e.key==="Enter"&&x.value===-1&&s.value?(N(s.value,[n.value]),n.value="",u.value=""):(p.value?.inputKeydownHandler?.(e),s.value&&(u.value=""))),v("keydown",e)},W=e=>{a.suggestions&&p.value?.inputBlurHandler?.(e),v("blur",e)},G=e=>{a.suggestions&&p.value?.inputFocusHandler?.(e),v("focus",e)};function J(e){s.value!==void 0&&(ae(e)||(N(s.value,[e]),n.value="",u.value=""))}const h=ee(a,"suggestions"),Q=ne(V,d,x,h),L=f(()=>({id:V.value,border:!1,disabled:a.disabled,readonly:a.readonly,isValid:a.valid,onKeydown:K,onBlur:W,onFocus:G,modelValue:n.value,"onUpdate:modelValue":e=>{n.value=e,!a.suggestions&&!a.updateOnlyOnSubmit&&!a.restrictToSuggestions&&(u.value=e)},onSubmit:e=>{a.suggestions||(u.value=s.value?"":e,v("submit",e),s.value&&J(e))},...Q.value,canEdit:j.value,...i.value.attrs,class:void 0}));function Y(e,k){v("submit",e)}const g=f(()=>({id:V.value,isOpen:d.value,valid:a.valid,disabled:a.disabled,readonly:a.readonly,emitSubmit:Y})),M=f(()=>({id:V.value,suggestions:a.suggestions,allowOpenEmpty:a.allowOpenEmpty,restrictToSuggestions:a.restrictToSuggestions,suggestionLabel:a.suggestionLabel,suggestionsFilter:a.suggestionsFilter,modelValue:s.value??u.value.toString(),inputValue:n.value,isValid:a.isValid,"onUpdate:inputValue":e=>n.value=e,onSubmit:(e,k,A)=>{u.value=A?"":e,v("submit",e,k)},"onUpdate:modelValue":e=>{s.value&&=e},"onUpdate:isOpen":e=>{d.value=e},"onUpdate:activeSuggestion":e=>x.value=e,...i.value.suggestionsAttrs,class:void 0})),T=f(()=>({hasSlotRight:!y.right,label:a.label,border:a.border,disabled:a.disabled,readonly:a.readonly,modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,...i.value.multivaluesAttrs,class:void 0}));return S({suggestionsComponent:p,el:H}),(e,k)=>(w(),F("div",m({class:t(b)(`input--outer-wrapper
			grow
			flex
			flex-wrap
			`,l.disabled&&`
			text-neutral-400
			dark:text-neutral-600
		`,t(i).wrapperAttrs?.class),tabindex:"-1"},{...t(i).wrapperAttrs,class:void 0},{ref_key:"inputWrapperEl",ref:H}),[r(e.$slots,"label",o(c({...g.value,label:l.label})),()=>[l.label||t(y).default?(w(),R(oe,{key:0,id:l.id??t(P),disabled:l.disabled,readonly:l.readonly,valid:l.valid,class:"input--label"},{default:I(()=>[r(e.$slots,"default",o(c(g.value)),()=>[te(se(l.label),1)])]),_:3},8,["id","disabled","readonly","valid"])):q("",!0),k[0]||(k[0]=E("div",{class:"input--label-spacer flex-1"},null,-1))]),E("div",m({"data-border":l.border,"data-invalid":!l.valid,"data-disabled":l.disabled,"data-read-only":l.readonly,"data-is-open":d.value},{...t(i)["inner-wrapperAttrs"],class:void 0},{class:t(b)(`input--inner-wrapper
				relative
				flex
				flex-1
				basis-[100%]
				flex-wrap
				rounded-sm
				gap-2
				px-2
			`,l.border&&`
				bg-inherit
				border
				border-neutral-500
				outlined-within:border-accent-500
			`,d.value&&"rounded-b-none",!l.valid&&`
				border-danger-700
				outlined:!outline-danger-700
				text-danger-800
				dark:text-danger-400
				dark:border-danger-600
				`,l.readonly&&`
				bg-neutral-50
				text-neutral-800
				dark:bg-neutral-950
				dark:text-neutral-200
				`,l.disabled&&`
				bg-neutral-50
				text-neutral-400
				dark:border-neutral-600
				border-neutral-400
			`,t(i)["inner-wrapperAttrs"]?.class)}),[r(e.$slots,"left",o(c(g.value))),r(e.$slots,"input",o(c({...L.value,...g.value,suggestionsIndicatorClickHandler:C})),()=>[$(ce,m({class:t(b)("input--input p-0",!t(y).left&&"-ml-2 pl-2",!t(y).right&&(!s.value||s.value.length===0)&&!h.value&&"-mr-2 -pr-2",t(i).attrs?.class)},L.value),null,16,["class"])]),r(e.$slots,"indicator",o(c({isOpen:d.value,suggestionsIndicatorClickHandler:C})),()=>[h.value?(w(),F("div",{key:0,"data-is-open":d.value,class:z(t(b)("input--indicator flex flex-col justify-center")),onClick:C},[$(ie,{class:z(d.value&&"rotate-180")},{default:I(()=>[$(t(fe))]),_:1},8,["class"])],10,be)):q("",!0)]),r(e.$slots,"values",o(c({...T.value,...g.value})),()=>[s.value&&s.value.length>0?(w(),R(de,m({key:0,class:t(b)(`
							input--multivalues
							grow-[9000]
							justify-space-between
							py-1
						`,!t(y).right&&"-mr-1",t(i).multivaluesAttrs?.class)},T.value),null,16,["class"])):q("",!0)]),r(e.$slots,"right",o(c(g.value))),h.value?r(e.$slots,"suggestions",o(m({key:0},{...M.value,...g.value})),()=>[$(re,m({class:t(b)(`
						input--suggestions
						absolute
						-inset-x-px
						z-10
						rounded-b-sm
						border-accent-500
						border
						top-full
					`,!l.border&&`
						rounded-sm
					`,t(i).suggestionsAttrs?.class),ref_key:"suggestionsComponent",ref:p},M.value),{item:I(A=>[r(e.$slots,"suggestion-item",o(c(A)))]),_:3},16,["class"])]):q("",!0)],16,me)],16))}});export{Ie as default};
